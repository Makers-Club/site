<!doctype html>
<html>

  <head>
    {% block head %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- bootstrap 4.4 -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha384-vk5WoKIaW/vJyUAd9n/wmopsmNhiy+L2Z+SBxGYnUkunIxVxAv/UtMOhba/xskxh" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <!-- put css links here -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}"> 

    <title>
      {% block title %}
      {% endblock %}Maker Teams
    </title>
    {% endblock %}
  </head>


  <body>

    <!-- SET data variables for ease of use -->
    {% if data %}
        {% if data.current_user %}
            {% set current_user = data.current_user %}
        {% else %}
            {% set current_user = None %}
        {% endif %}
    {% endif %}







{% if not current_user %}
<header class="fixed-top w-100" id="header">
    <div  class="ml-2 mt-3 d-flex">
        <a class="navbar-brand" href="{{ url_for('landing.index') }}">
        <!---->
            <img id="logo" src="https://storage.googleapis.com/maker_teams_public_images/logo.png">
            <!---->
        </a>

    </div>
</header>

{% endif %}

{% if current_user %}

    <nav class="sidebar-container sidebar-container-left border-base-right">
        <div class="ml-2 d-flex border-base-bottom pb-3">
        <script type="module" data-user_handle="{{ current_user.handle }}" data-user_id="{{ current_user.id }}" data-user_access_token="{{ current_user.access_token }}" src="../static/scripts/notifications/notifications.js"></script>
        <a href="{{ url_for('users.profile', handle=current_user.handle)  }} ">
            <img class="profile_pic mr-2" src="{{ current_user.avatar_url }}" height="50" width="50" data-toggle="tooltip" data-placement="bottom" title="My Account">
            <div class="d-flex flex-column">
                <span>
                {{ current_user.name }}
                </span>
            <br>
            <a href="{{ url_for('auth.logout') }}">Sign Out</a>
            </div>
            </a>
        </div>

        <ul class="sidebar-nav">
            <li class="nav-item discover-side-panel">
            <a class="nav-link m-0 " href="{{ url_for('landing.index') }}">Dashboard</a>
            </li>
            <li class="nav-item projects-side-panel">
            <a class="nav-link m-0" href="{{ url_for('projects.index') }}">Projects</a>
            </li>
            <li class="nav-item users-side-panel">
            <a class="nav-link m-0" href="{{ url_for('users.all') }}">Users</a>
            </li>
        </ul>
    </nav>



    
     
      
{% endif %}        



{% if data.error %}

<p class="alert">{{data.error}}</p>

{% endif %}
{% if data.msg %}

<p >{{data.msg}}</p>

{% endif %}    




<main class="d-flex flex-column h-100">
    
          
    {% block content %}
    {% endblock %}
</main>





<div class="sidebar-container sidebar-container-right border-base-left">
    <div id="icon"></div>
    {% if current_user %}
    <div class="d-flex p-3 border-base-bottom" id="">
        <!-- NOTIFICATION BUTTON -->
        <img
            id="notification_button"
            src="https://vectr.com/makerteams/dd7C3gKlo.svg?width=640&height=640&select=dd7C3gKlopage0 "
            class=""
            width="33px"
            height="33px"
            style="display: block;" data-toggle="tooltip" data-placement="bottom" title="Notifications"
        />

        <!-- FILTER BUTTON -->
        <img 
            id="filter_button"
            src="https://vectr.com/makerteams/dd7C3gKlo.svg?width=640&height=640&select=desS3MqcN"
            class=""
            width="33px"
            height="33px"
            style="display: block;"
            data-toggle="tooltip" data-placement="bottom" title="Roles"
        />
    </div>
    <!-- NOTIFICATION LIST -->
    <div class=" border right-panel-section" id="notification_list" style="display: none;">
        <ul id="notif-items" class=""></ul>
        <li id="no-notifs" class="text-dark">No Notifications</li>
    </div>

    <!-- FILTER LIST -->
    <div class="border right-panel-section" id="filter_list" style="display: none;">
        <ul id="filter_items" class=""></ul>
    </div>
</div>



<footer class="">
    <div class=" text-center lighter">
        
        Â©Copyright Maker Teams Inc. 2021
    </div>
</footer>
<!-- ADD a Copyright?? -->
<!-- &copy; Copyright 2010 by <a href="http://domain.invalid/">you</a>. -->

<script type="module" src="../static/scripts/sibebar.js"></script>
<script type="module" data-endpoint="{{request.url.split('/')[-2]}}" src="../static/scripts/filters/filter.js"></script>

{% endif %}
</body>




  <script>
      // This activates all the tooltips (text that pops up when you hover over certain items)
      $(function () {
  $('[data-toggle="tooltip"]').tooltip()
})
  </script>

</html>
